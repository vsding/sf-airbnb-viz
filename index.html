<html>

<head>
    <title>San Francisco AirBNB</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="./css/map.css">
    <link rel="stylesheet" href="./css/article.css">
</head>

<body>
    <div class="article">
        <!-- title -->
        <div class="titleSection">
            <h1>
                What affects AirBnb customer ratings?
            </h1>
            <h2>
                An investigation of San Francisco Airbnb listings
            </h2>
            <h3 class='attribution'>
                By Maurice Chiang, Vedi Chaudhri, Victoria Ding</br>
                March 16, 2020
            </h3>
        </div>

        <!-- intro -->
        <p class="bodyText drop-cap">
            San Francisco is one of the most popular cities to vacation, live, and work in, and the city attracts people from all around the world. Airbnbs have become an increasingly popular lodging option for people staying in the city for anywhere from one night
            to several months. In addition to factors such as location and price, ratings play a significant role in whether or not someone decides to stay in a certain Airbnb; customers rely heavily on what others think to make decisions. What factors
            distinguish a highly rated listing from a poorly rated one? How do characteristics about the host and the textual description of the listing affect its ratings?
        </p>

        <p class="bodyText">
            The map below shows all current Airbnb listings in the city of San Francisco. Airbnbs with a rating of above 90 are shown in green, ratings above 70 are shown in yellow, and ratings of 70 and below are shown in red. Unrated listings are shown in gray.
            For the purposes of this article, we will define a poor rating as one that is 70 or below.
        </p>

        <!-- q1 viz -->
        <div id="sliderContainer">
            <label for="slider"></br>Maximum rating: <span id="sliderVal"></span></br></br></label>
            <input id="slider" type="range" min="0" max="100" step="1" value="70" />
        </div>
        <script>
            var slider = document.getElementById("slider");
            var output = document.getElementById("sliderVal");
            output.innerHTML = slider.value;
            slider.oninput = function() {
                output.innerHTML = this.value;
            }
        </script>

        <div id='mapContainer'>
            <input id="toggleListingsButton" type="button" value="Show unrated listings" />
            <div id='map'></div>
        </div>
        <script type='module'>
            import { renderMap } from './q1_map.js'; renderMap();
        </script>

        <!-- q1 description -->
        <p class="bodyText">
            The majority of rated Airbnbs have a rating of at least 90, and there are listings with ratings of under 70 and below scattered across the city. While there are no glaring patterns in the location of poorly rated listings, it seems that there is a slightly
            higher density of Airbnbs with poor ratings near the northeast of the city, in the Union Square and Tenderloin neighborhoods.
        </p>
    </div>
</body>

</html>